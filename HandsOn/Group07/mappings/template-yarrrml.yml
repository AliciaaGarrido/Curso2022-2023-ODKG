prefixes:
  owl: "http://www.w3.org/2002/07/owl#"
  rdf: "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xml: "http://www.w3.org/xml/1998/namespace"
  xsd: "http://www.w3.org/2001/XMLSchema#"
  rdfs: "http://www.w3.org/2000/01/rdf-schema#"
  vocab: "http://smartcity.airquality.es/airquality/"

mappings:
  municipalityMap:
    sources:
      - ["datos202112-updated.csv~csv"]
    s: http://smartcity.airquality.es/airquality/municipality/$(MunicipalityName)
    po:
      - [a, vocab:Municipality]
      - [vocab:hasName, $(MunicipalityName), xsd:string]

  stationMap:
    sources:
      - ["datos202112-updated.csv~csv"]
    s: http://smartcity.airquality.es/airquality/station/$(Station)
    po:
      - [a, vocab:Station]
      - [vocab:hasName, $(StationName), xsd:string]
      - [vocab:latitude, $(Latitude), xsd:real]
      - [vocab:longitude, $(Longitude), xsd:real]
      - [vocab:hasCode, $(CodeofStation), xsd:integer]

      - p: vocab:isLocatedIn
        o:
          - mapping: municipalityMap
      - p: vocab:makesMeasurement
        o:
          - mapping: magnitudeMap

  magnitudeMap:
    sources:
      - ["datos202112-updated.csv~csv"]
    s: http://smartcity.airquality.es/airquality/magnitude/$(Code)
    po:
      - [a, vocab:Magnitude]
      - [vocab:hasCode, $(Code), xsd:integer]
      - [vocab:hasName, $(MagnitudeName), xsd:string]
      - [vocab:hasunitofMeasurement, $(UnitOfMeasure), xsd:string]
      - [vocab:atTime, $(Time), xsd:date]
      - [vocab:Measurement, $(Measurement), xsd:integer]